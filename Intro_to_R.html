<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">

<head>

<meta charset="utf-8" />
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="generator" content="pandoc" />




<title>Intro_to_R.utf8</title>

<script src="site_libs/jquery-1.11.3/jquery.min.js"></script>
<meta name="viewport" content="width=device-width, initial-scale=1" />
<link href="site_libs/bootstrap-3.3.5/css/cerulean.min.css" rel="stylesheet" />
<script src="site_libs/bootstrap-3.3.5/js/bootstrap.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/html5shiv.min.js"></script>
<script src="site_libs/bootstrap-3.3.5/shim/respond.min.js"></script>
<script src="site_libs/jqueryui-1.11.4/jquery-ui.min.js"></script>
<link href="site_libs/tocify-1.9.1/jquery.tocify.css" rel="stylesheet" />
<script src="site_libs/tocify-1.9.1/jquery.tocify.js"></script>
<script src="site_libs/navigation-1.1/tabsets.js"></script>
<link href="site_libs/highlightjs-9.12.0/textmate.css" rel="stylesheet" />
<script src="site_libs/highlightjs-9.12.0/highlight.js"></script>
<script src="js/google-analytics.js"></script>

<style type="text/css">code{white-space: pre;}</style>
<style type="text/css">
  pre:not([class]) {
    background-color: white;
  }
</style>
<script type="text/javascript">
if (window.hljs) {
  hljs.configure({languages: []});
  hljs.initHighlightingOnLoad();
  if (document.readyState && document.readyState === "complete") {
    window.setTimeout(function() { hljs.initHighlighting(); }, 0);
  }
}
</script>



<style type="text/css">
h1 {
  font-size: 34px;
}
h1.title {
  font-size: 38px;
}
h2 {
  font-size: 30px;
}
h3 {
  font-size: 24px;
}
h4 {
  font-size: 18px;
}
h5 {
  font-size: 16px;
}
h6 {
  font-size: 12px;
}
.table th:not([align]) {
  text-align: left;
}
</style>


</head>

<body>

<style type = "text/css">
.main-container {
  max-width: 940px;
  margin-left: auto;
  margin-right: auto;
}
code {
  color: inherit;
  background-color: rgba(0, 0, 0, 0.04);
}
img {
  max-width:100%;
  height: auto;
}
.tabbed-pane {
  padding-top: 12px;
}
button.code-folding-btn:focus {
  outline: none;
}
</style>


<style type="text/css">
/* padding for bootstrap navbar */
body {
  padding-top: 51px;
  padding-bottom: 40px;
}
/* offset scroll position for anchor links (for fixed navbar)  */
.section h1 {
  padding-top: 56px;
  margin-top: -56px;
}

.section h2 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h3 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h4 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h5 {
  padding-top: 56px;
  margin-top: -56px;
}
.section h6 {
  padding-top: 56px;
  margin-top: -56px;
}
</style>

<script>
// manage active state of menu based on current page
$(document).ready(function () {
  // active menu anchor
  href = window.location.pathname
  href = href.substr(href.lastIndexOf('/') + 1)
  if (href === "")
    href = "index.html";
  var menuAnchor = $('a[href="' + href + '"]');

  // mark it active
  menuAnchor.parent().addClass('active');

  // if it's got a parent navbar menu mark it active as well
  menuAnchor.closest('li.dropdown').addClass('active');
});
</script>


<div class="container-fluid main-container">

<!-- tabsets -->
<script>
$(document).ready(function () {
  window.buildTabsets("TOC");
});
</script>

<!-- code folding -->




<script>
$(document).ready(function ()  {

    // move toc-ignore selectors from section div to header
    $('div.section.toc-ignore')
        .removeClass('toc-ignore')
        .children('h1,h2,h3,h4,h5').addClass('toc-ignore');

    // establish options
    var options = {
      selectors: "h1,h2,h3",
      theme: "bootstrap3",
      context: '.toc-content',
      hashGenerator: function (text) {
        return text.replace(/[.\\/?&!#<>]/g, '').replace(/\s/g, '_').toLowerCase();
      },
      ignoreSelector: ".toc-ignore",
      scrollTo: 0
    };
    options.showAndHide = true;
    options.smoothScroll = true;

    // tocify
    var toc = $("#TOC").tocify(options).data("toc-tocify");
});
</script>

<style type="text/css">

#TOC {
  margin: 25px 0px 20px 0px;
}
@media (max-width: 768px) {
#TOC {
  position: relative;
  width: 100%;
}
}


.toc-content {
  padding-left: 30px;
  padding-right: 40px;
}

div.main-container {
  max-width: 1200px;
}

div.tocify {
  width: 20%;
  max-width: 260px;
  max-height: 85%;
}

@media (min-width: 768px) and (max-width: 991px) {
  div.tocify {
    width: 25%;
  }
}

@media (max-width: 767px) {
  div.tocify {
    width: 100%;
    max-width: none;
  }
}

.tocify ul, .tocify li {
  line-height: 20px;
}

.tocify-subheader .tocify-item {
  font-size: 0.90em;
  padding-left: 25px;
  text-indent: 0;
}

.tocify .list-group-item {
  border-radius: 0px;
}


</style>

<!-- setup 3col/9col grid for toc_float and main content  -->
<div class="row-fluid">
<div class="col-xs-12 col-sm-4 col-md-3">
<div id="TOC" class="tocify">
</div>
</div>

<div class="toc-content col-xs-12 col-sm-8 col-md-9">




<div class="navbar navbar-inverse  navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" href="index.html">SCCWRP R training</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="index.html">Home</a>
</li>
<li>
  <a href="Intro_to_R.html">Introduction to R</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Data wrangling
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="Data_Wrangling_1.html">Part 1</a>
    </li>
    <li>
      <a href="Data_Wrangling_2.html">Part 2</a>
    </li>
  </ul>
</li>
<li>
  <a href="Viz_and_Graphics.html">Viz and graphics</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    R luncheons
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="R_luncheon_1.html">R luncheon 1</a>
    </li>
    <li>
      <a href="R_luncheon_2.html">R luncheon 2</a>
    </li>
    <li>
      <a href="R_luncheon_3.html">R luncheon 3</a>
    </li>
    <li>
      <a href="R_luncheon_4.html">R luncheon 4</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

<div class="fluid-row" id="header">




</div>


<div id="introduction-to-r" class="section level1">
<h1>Introduction to R</h1>
<div id="lesson-outline" class="section level2">
<h2>Lesson Outline</h2>
<ul>
<li><a href="#goals-and-motivation">Goals and Motivation</a></li>
<li><a href="#rstudio">RStudio</a></li>
<li><a href="#r-language-fundamentals">R language fundamentals</a></li>
<li><a href="#data-structures-in-r">Data structures in R</a></li>
<li><a href="#data-io">Data I/O</a></li>
<li><a href="#retention">Retention</a></li>
</ul>
</div>
<div id="lesson-exercises" class="section level2">
<h2>Lesson Exercises</h2>
<ul>
<li><a href="#exercise-1">Exercise 1</a></li>
<li><a href="#exercise-2">Exercise 2</a></li>
</ul>
</div>
<div id="goals-and-motivation" class="section level2">
<h2>Goals and Motivation</h2>
<p><a href="https://www.r-project.org/">R</a> is a language for statistical computing as well as a general purpose programming language. Increasingly, it has become one of the primary languages used in data science and for data analysis across many of the natural sciences.</p>
<p>We only have two hours to introduce basic concepts in R. I’s an unrealistic expectation that you will be competent after only two hours. As such, the goals of this training are to expose you to fundementals and to develop an appreciation of what’s possible with this software. I also want to provide resources that you can use for follow-up learning on your own.</p>
<p>You should be able to answer these questions at the end of this session:</p>
<ul>
<li>What is R and why should I use it?</li>
<li>Why would I use RStudio and RStudio projects?</li>
<li>How can I write, save, and run scripts in RStudio?</li>
<li>Where can I go for help?</li>
<li>What are the basic data structures in R?</li>
<li>How do I import/export data?</li>
</ul>
<div id="why-should-i-invest-time-in-r" class="section level3">
<h3>Why should I invest time in R?</h3>
<p>There are many programming languages available and each has it’s specific benefits. R was originally created as a statistical programming language but now it is largely viewed as a ‘data science’ language. Why would you invest time in learning R compared to other languages?</p>
<ul>
<li>The growth of R as explained in the <a href="https://stackoverflow.blog/2017/10/10/impressive-growth-r/">Stack Overflow blog</a>, <a href="http://blog.revolutionanalytics.com/2016/07/r-moves-up-to-5th-place-in-ieee-language-rankings.html">IEEE rating</a></li>
</ul>
<p>R is also an open-source programming language - not only is it free, but this means anybody can contribute to it’s development. As of 2018-09-05, there are 12985 on CRAN!</p>
<p>Python is another popular open-source programming language. Many beginners often ask the quesiton, why R vs. Python? This is an interesting debate with no easy answer. Some things to consider:</p>
<ul>
<li>R has statistical roots, phython does not</li>
<li>Pick the language that has the tools you need, but…</li>
<li>You can accomplish very similar things with both</li>
</ul>
<p>Some cool things you can do with R:</p>
<ul>
<li>Serious <a href="http://sharpsightlabs.com/blog/dplyr-intro-data-manipulation-with-r/">data ninjery</a></li>
<li><a href="http://ggplot2.tidyverse.org/reference/">Graphics</a> and <a href="https://shiny.rstudio.com/gallery/">interaction</a>, accidental <a href="http://accidental-art.tumblr.com/">aRt</a></li>
<li><a href="http://rmarkdown.rstudio.com/">Reproducible research</a></li>
</ul>
</div>
</div>
<div id="rstudio" class="section level2">
<h2>RStudio</h2>
<p>In the old days, the only way to use R was directly from the Console - this is a bare bones way of running R only with direct input of commands. Now, RStudio is the go-to Interactive Development Environment (IDE) for R. Think of it like a car that is built around an engine. It is integrated with the console and includes many other features such as version control, debugging, dynamic documents, package manager and creation, and code highlighting and completion.</p>
<p>Let’s get familiar with RStudio before we go on.</p>
<div id="open-r-and-rstudio" class="section level3">
<h3>Open R and RStudio</h3>
<p>Find the RStudio shortcut and fire it up (just watch for now). You should see something like this:</p>
<p><img src="figure/rstudio.png" /></p>
<p>There are four panes in RStudio:</p>
<ul>
<li>Source</li>
<li>console</li>
<li>Environment, History, etc.</li>
<li>Files, plots, etc.</li>
</ul>
</div>
<div id="rstudio-projects" class="section level3">
<h3>RStudio projects</h3>
<p>I strongly encourage you to use RStudio projects when you are working with R. The RStudio project provides a central location for working on a particular task. It helps with file management and is portable if all the files live in the same file tree. RStudio projects also remember history - what commands you used and what data objects are in your enviornment.</p>
<p>To create a new project, click on the File menu at the top and select ‘New project…’</p>
<p><img src="figure/rstudio_proj.jpg" /></p>
<p>It’s ofen hard to determine the scope of a project. When should a new project be created Should one project be used for a dissertation? Probably not. What about one project for manipulating one data file? Probably not. To help you determine the scope of each project, think about these questions:</p>
<ul>
<li>What is the purpose of using R right now?<br />
</li>
<li>Am I manipulating multiple files?</li>
<li>Are all these files linked by a common theme (e.g., abundance data, environmental data)</li>
<li>If I shared this with someone, would they have all the necessary data?</li>
</ul>
</div>
<div id="scripting" class="section level3">
<h3>Scripting</h3>
<p>In most cases, you will not enter and execute code directly in the console. Code can be created in a script and then sent directly to the console when you’re ready to run it. The key difference here is that a script can be saved and shared.</p>
<p>Open a new script from the File menu…</p>
<p><img src="figure/rstudio_script.jpg" /></p>
</div>
<div id="executing-code-in-rstudio" class="section level3">
<h3>Executing code in RStudio</h3>
<p>After you write your script it can be sent to the Console to run the code in R. Any variables you create in your script will not be available in your working environment until this is done. There are two ways to sent code the console. First, you can hit the <code>Run</code> button at the top right of the scripting window. Second, and preferred, you can use <code>ctrl+enter</code>. Both approaches will send the selected line to the console, then move to the next line. You can also highlight and send an entire block of code.</p>
<p><img src="figure/rstudio_run.jpg" /></p>
</div>
<div id="what-is-the-environment" class="section level3">
<h3>What is the environment?</h3>
<p>There are two outcomes when you run code. First, the code will simply print output directly in the console. Second, there is no output because you have stored it as a variable (we’ll talk about variable assignment later). Output that is stored is actually saved in the <code>environment</code>. The environment is the collection of named objects that are stored in memory for your current R session. Anything stored in memory will be accessible by it’s name without running the original script that was used to create it.</p>
</div>
</div>
<div id="exercise-1" class="section level2">
<h2>Exercise 1</h2>
<p>This exercise will make sure R and RStudio are working and that you can get around the basics in RStudio. Use the blue stickies when you have completed, and red stickies if you are running into problems.</p>
<ol style="list-style-type: decimal">
<li><p>Start RStudio: To start both R and RStudio requires only firing up RStudio. RStudio should be available from All Programs at the Start Menu. Fire up RStudio.</p></li>
<li><p>Take a few minutes to look around RStudio. Find the Console Pane. Find Global and Project Options (hint: look in Tools). Look at the Environment, History Pane. Look at the Files, Plots, Packages, etc. pane.</p></li>
<li><p>Create a new project. Name it “sccwrp_r_workshop”. We will use this for the rest of the workshop.</p></li>
<li><p>Create a new “R Script” in the Source Pane, save that file into your newly created project and name it “sccwrp_r_workshop.R”. It’ll just be a blank text file at this point.</p></li>
<li><p>Add in a comment line to separate this section. It should look something like: <code># Exercise 1: Just Getting used to RStudio and Scripts</code>.</p></li>
<li><p>Add a single line to this script with the following text: <code>ls()</code>. This is an R function that lists objects in your current environment. Use the various ways we showed to send this command to the R Console. Also, try typing this directly into the R Console and hit <code>Enter</code> to run it.</p></li>
<li><p>Lastly, we need to get this project set up with some example data for our upcoming exercises. You should have downloaded this already, but if not, the data are available from <a href="https://github.com/SCCWRP/R_training_2018/raw/master/lessons/data/mpg.xlsx" class="uri">https://github.com/SCCWRP/R_training_2018/raw/master/lessons/data/mpg.xlsx</a>. Create a folder in your new project named <code>data</code> and copy this file into this location.</p></li>
</ol>
</div>
<div id="r-language-fundamentals" class="section level2">
<h2>R language fundamentals</h2>
<p>The basic syntax of a function follows the form: <code>function_name(arg1, arg2, ...)</code>.</p>
<p>With the base install, you will gain access to many (3389 functions, to be exact). Some examples:</p>
<pre class="r"><code># print
print(&#39;hello world!&#39;)</code></pre>
<pre><code>## [1] &quot;hello world!&quot;</code></pre>
<pre class="r"><code># sequence
seq(1, 10)</code></pre>
<pre><code>##  [1]  1  2  3  4  5  6  7  8  9 10</code></pre>
<pre class="r"><code># random numbers
rnorm(100, mean = 10, sd = 2)</code></pre>
<pre><code>##   [1]  7.042959  9.933440 12.258015 11.182966  9.843290 12.711385 12.127725
##   [8] 11.159661 12.569209  9.778333 10.144672  8.209252 11.237724 14.428908
##  [15] 11.128484 12.586606  8.794906 10.268748  9.823678  6.073301 13.725377
##  [22] 12.981998  9.189805 12.328316 11.626389 10.990130  7.779494  7.617605
##  [29]  8.509309 14.359957 14.088185 10.373364  8.270794 11.780033  6.572189
##  [36] 11.468350 12.833394  8.206408  7.768995 11.001018  9.848751 12.341818
##  [43]  7.577838  9.333131  6.639002 11.674404 11.698163  9.077443 10.255580
##  [50]  8.319378  6.587000 11.829827 10.128108 11.621755  7.355938 10.303364
##  [57] 10.529598 10.308222  9.985282 11.389658  8.970391 13.120743  9.054584
##  [64] 10.559799  8.637167 10.285536  7.351132  4.854041 11.091028  9.550774
##  [71] 12.500631  8.581921 10.715796  8.384507 11.501371 11.437187 10.736647
##  [78]  9.518106 13.554270  9.159941 11.665120  5.480187  8.834740  5.727674
##  [85] 12.858990 10.236094  9.814250 12.364537 12.074122 11.411001 11.569412
##  [92] 10.824847  8.118050  8.299255  7.368645 10.363676 12.074903  7.699204
##  [99]  8.898610  8.364116</code></pre>
<pre class="r"><code># average 
mean(rnorm(100))</code></pre>
<pre><code>## [1] -0.04675068</code></pre>
<pre class="r"><code># sum
sum(rnorm(100))</code></pre>
<pre><code>## [1] 17.78897</code></pre>
<p>Very often you will see functions used like this:</p>
<pre class="r"><code>my_random_sum &lt;- sum(rnorm(100))</code></pre>
<p>In this case the first part of the line is the name of an object. You make this up. Ideally it should have some meaning, but the only rules are that it can’t start with a number and must not have any spaces. The second bit, <code>&lt;-</code>, is the assignment operator. This tells R to take the result of <code>sum(rnorm(100))</code> and store it an object named, <code>my_random_sum</code>. It is stored in the environment and can be used by just executing it’s name in the console.</p>
<pre class="r"><code>my_random_sum</code></pre>
<pre><code>## [1] 2.759021</code></pre>
<p>With this, you have the very basics of how we write R code and save objects that can be used later.</p>
<div id="a-few-side-notes" class="section level3">
<h3>A few side notes</h3>
<p>Sometimes you might see a variable assignment using the <code>=</code> sign:</p>
<pre class="r"><code>my_random_sum = sum(rnorm(100))</code></pre>
<p>While technically this is the same as <code>&lt;-</code>, it’s generally considered poor practice in code writing. The <code>=</code> sign in R is typically reserved for arguments within functions:</p>
<pre class="r"><code>rnorm(100, mean = 10, sd = 1)</code></pre>
<p>You might also see these guys in R code:</p>
<ul>
<li><code>#</code> Denotes a comment, anything after this on the same line is not run by the console. You can use as many <code>####</code> as you like. Always comment your code and err on the side of too much!</li>
<li><code>()</code> These will almost always be used with functions.</li>
<li><code>[]</code> These are used for indexing values from a stored variable, e.g., I want to see the fifth value in a variable that is 100 numbers long.</li>
<li><code>{}</code> These are used to create your own function or when a chunk of code is meant to be run together.<br />
</li>
<li><code>&quot;</code> or <code>'</code> are used to identify characters in R, they mean the same thing but they do not mix!</li>
</ul>
</div>
<div id="packages" class="section level3">
<h3>Packages</h3>
<p>The base install of R is quite powerful, but you will soon have a need or desire to go beyond this. Packages provide this ability. They are a standardized method for extending R with new methods, techniques, and programming functionality. There is a lot to say about packages regarding finding them, using them, etc., but for now let’s focus just on the basics.</p>
</div>
<div id="cran" class="section level3">
<h3>CRAN</h3>
<p>One of the reasons for R’s popularity is CRAN, <a href="http://cran.r-project.org/">The Comprehensive R Archive Network</a>. This is where you download R and also where most will gain access to packages (there are other places, but that is for later). Not much else to say about this now other than to be aware of it. As of 2018-09-05, there are 12985 on CRAN!</p>
</div>
<div id="installing-packages" class="section level3">
<h3>Installing packages</h3>
<p>When a package gets installed, that means the source is downloaded and put into your library. A default library location is set for you so no need to worry about that. In fact on Windows most of this is pretty automatic. Let’s give it a shot.</p>
<pre class="r"><code>#Installing Packages from CRAN
# Install dplyr and ggplot2
install.packages(&quot;ggplot2&quot;)
install.packages(&quot;dplyr&quot;)

# You can also put more than one in like
install.packages(c(&quot;quickmapr&quot;,&quot;formatR&quot;))</code></pre>
<p>Packages only need to be installed one time, unless you’re updating to a newer version.</p>
</div>
<div id="using-packages" class="section level3">
<h3>Using packages</h3>
<p>One source of confusion that many have is when they cannot access a package that they just installed. This is because getting to this point requires an extra step, loading (or attaching) the package.</p>
<pre class="r"><code># Loading packages into your library
# Add libraries to your R Session
library(&quot;ggplot2&quot;)
library(&quot;dplyr&quot;)

# You can also access functions without loading by using package::function
dplyr::mutate</code></pre>
<pre><code>## function (.data, ...) 
## {
##     UseMethod(&quot;mutate&quot;)
## }
## &lt;bytecode: 0x0000000019f4cbb8&gt;
## &lt;environment: namespace:dplyr&gt;</code></pre>
<p>You will often see people use <code>require()</code> to load a package. It is better form to not do this. For a more detailed explanation of why <code>library()</code> and not <code>require()</code> see <a href="http://yihui.name/en/2014/07/library-vs-require/.">Yihui Xie’s post on the subject</a></p>
<p>And now for a little pedantry. You will often hear people use the terms “library” and “package” interchangeably. This is not correct. A package is what is submitted to CRAN, it is what contains a group of functions that address a common problem, and it is what has allowed R to expand. A library is, more or less, where you packages are stored. You have a path to that library and this is where R puts new packages that you install (e.g. via <code>install.packages()</code>). These two terms are related, but most certainly different. Apologies up front if I slip and use one when I actually mean the other…</p>
<p>You can see where your library is located:</p>
<pre class="r"><code>.libPaths()</code></pre>
<pre><code>## [1] &quot;C:/Users/Marcus.SCCWRP2K/R/win-library/3.5&quot;
## [2] &quot;C:/Program Files/R/R-3.5.1/library&quot;</code></pre>
<p>There are a few ways to see if a package is installed, and if installed, if it’s loaded in your environment (i.e, if you’ve forgot). RStudio makes this easy with it’s user interface (<code>Packages</code> tab, <code>Environment</code> tab), but I encourage you to learn the functions that do this for you. Especially…</p>
<pre class="r"><code># check if a package is installed
&quot;dplyr&quot; %in% installed.packages()

# check if it&#39;s loaded
sessionInfo()</code></pre>
</div>
<div id="getting-help" class="section level3">
<h3>Getting Help</h3>
<p>Being able to find help and interpret that help is probably one of the most important skills for learning a new language. R is no different. Help on functions and packages can be accessed directly from R, can be found on CRAN and other official R resources, searched on Google, found on StackOverflow, or from any number of fantastic online resources. I will cover a few of these here.</p>
</div>
<div id="help-from-the-console" class="section level3">
<h3>Help from the console</h3>
<p>Getting help from the console is straightforward and can be done numerous ways.</p>
<pre class="r"><code># Using the help command/shortcut
# When you know the name of a function
help(&quot;print&quot;) # Help on the print command
?print # Help on the print command using the `?` shortcut

# When you know the name of the package
help(package = &quot;dplyr&quot;) # Help on the package `dplyr`

# Don&#39;t know the exact name or just part of it
apropos(&quot;print&quot;) # Returns all available functions with &quot;print&quot; in the name
??print # shortcut, but also searches demos and vignettes in a formatted page</code></pre>
</div>
<div id="official-r-resources" class="section level3">
<h3>Official R Resources</h3>
<p>In addition to help from within R itself, CRAN and the R-Project have many resources available for support. Two of the most notable are the mailing lists and the <a href="http://cran.r-project.org/web/views/">task views</a>.</p>
<ul>
<li><a href="https://stat.ethz.ch/mailman/listinfo/r-help">R Help Mailing List</a>: The main mailing list for R help. Can be a bit daunting and some (although not most) senior folks can be, um, curmudgeonly…</li>
<li><a href="https://stat.ethz.ch/mailman/listinfo/r-sig-ecology">R-sig-ecology</a>: A special interest group for use of R in ecology. Less daunting than the main help with participation from some big names in ecological modelling and statistics (e.g., Ben Bolker, Gavin Simpson, and Phil Dixon).</li>
<li><a href="http://cran.r-project.org/web/views/Environmetrics.html">Environmetrics Task View</a>: Task views are great in that they provide an annotated list of packages relevant to a particular field. This one is maintained by Gavin Simpson and has great info on packages relevant to much of the work at EPA.</li>
<li><a href="http://cran.r-project.org/web/views/Spatial.html">Spatial Analysis Task View</a>: One I use a lot that lists all the relevant packages for spatial analysis, GIS, and Remote Sensing in R.</li>
</ul>
</div>
<div id="google-and-stackoverflow" class="section level3">
<h3>Google and StackOverflow</h3>
<p>While the resources already mentioned are useful, often the quickest way is to just turn to Google. However, a search for “R” is a bit challenging. A few ways around this. Google works great if you search for a given package or function name. You can also search for mailing lists directly (i.e. “R-sig-geo”), although Google often finds results from these sources.</p>
<p>Blind googling can require a bit of strategy to get the info you want. Some pointers:</p>
<ul>
<li>Always preface the search with “r”</li>
<li>Understand which sources are reliable</li>
<li>Take note of the number of hits and date of a web page</li>
<li>When in doubt, search with the exact error message</li>
</ul>
<p>One specific resource that I use quite a bit is <a href="http://stackoverflow.com/questions/tagged/r">StackOverflow with the ‘r’ tag</a>. StackOverflow is a discussion forum for all things related to programming. You can then use this tag and the search functions in StackOverflow and find answers to almost anything you can think of. However, these forums are also very strict and I typically use them to find answers not to ask questions.<br />
### Other Resources</p>
<p>As I mentioned earlier, there are TOO many resources to list here and everyone has their favorites. Below are just a few that I like.</p>
<ul>
<li><a href="http://rforcats.net/">R For Cats</a>: Basic introduction site, meant to be a gentle and light-hearted introduction</li>
<li><a href="http://adv-r.had.co.nz/">Advanced R</a>: Web home of Hadley Wickham’s new book. Gets into more advanced topics, but also covers the basics in a great way.</li>
<li><a href="http://cran.r-project.org/doc/contrib/Short-refcard.pdf">CRAN Cheatsheets</a>: A good cheat sheet from the official source</li>
<li><a href="http://www.rstudio.com/resources/cheatsheets/">RStudio Cheatsheets</a>: Additional cheat sheets from RStudio. I am especially fond of the data wrangling one.</li>
</ul>
</div>
</div>
<div id="data-structures-in-r" class="section level2">
<h2>Data structures in R</h2>
<p>Now that you know how to get started in R and where to find resources, we can begin talking about R data structures. Simply put, a data structure is a way for programming languages to handle information storage.</p>
<p>There is a bewildering amount of formats for storing data and R is no exception. Understanding the basic building blocks that make up data types is essential. All functions in R require specific types of input data and the key to using functions is knowing how these types relate to each other.</p>
<div id="vectors-one-dimensional-data" class="section level3">
<h3>Vectors (one-dimensional data)</h3>
<p>The basic data format in R is a vector - a one-dimensional grouping of elements that have the same type. These are all vectors and they are created with the <code>c</code> function:</p>
<pre class="r"><code>dbl_var &lt;- c(1, 2.5, 4.5)
int_var &lt;- c(1L, 6L, 10L)
log_var &lt;- c(TRUE, FALSE, T, F)
chr_var &lt;- c(&quot;a&quot;, &quot;b&quot;, &quot;c&quot;)</code></pre>
<p>The four types of atomic vectors (think atoms that make up a molecule aka vector) are <code>double</code> (or numeric), <code>integer</code>, <code>logical</code>, and <code>character</code>. For most purposes you can ignore the <code>integer</code> class, so there are basically three types. Each type has some useful properties:</p>
<pre class="r"><code>class(dbl_var)</code></pre>
<pre><code>## [1] &quot;numeric&quot;</code></pre>
<pre class="r"><code>length(log_var)</code></pre>
<pre><code>## [1] 4</code></pre>
<p>These properties are useful for not only describing an object, but they define limits on which functions or types of operations that can be used. That is, some functions require a character string input while others require a numeric input. Similarly, vectors of different types or properties may not play well together. Let’s look at some examples:</p>
<pre class="r"><code># taking the mean of a character vector
mean(chr_var)

# adding two numeric vectors of different lengths
vec1 &lt;- c(1, 2, 3, 4)
vec2 &lt;- c(2, 3, 5)
vec1 + vec2</code></pre>
</div>
<div id="coercion" class="section level3">
<h3>Coercion</h3>
<p>By definition, vectors contain elements of the same type. Combining a vector with different types will coerce elements to the more flexible type. This is intentional behavior of R that makes it easier to combine different data types from a programmatic perspective. In theory, you do not need to combine elements of different types in the same vector because a vector should describe one piece of information (e.g., abundance counts of fish at different sites are always described with numbers).</p>
<pre class="r"><code># combining a character and numeric
c(&#39;a&#39;, 1)</code></pre>
<pre><code>## [1] &quot;a&quot; &quot;1&quot;</code></pre>
<p>Coercion can sometimes create unintentional headaches so just be aware that this happens when you try to combine different data types. R will typically send a warning to the console if information is lost with coercion.</p>
</div>
<div id="dimensional-data" class="section level3">
<h3>2-dimensional data</h3>
<p>A collection of vectors represented as a single data object are often described as two-dimensional data. The simplest case is a <code>matrix</code> that is simply a collection of vectors all of the same type.</p>
<pre class="r"><code># a matrix of characters
mymat &lt;- matrix(letters, ncol = 13)
dim(mymat)</code></pre>
<pre><code>## [1]  2 13</code></pre>
<pre class="r"><code># a matrix of numerics
mymat &lt;- matrix(1:12, ncol = 4)
dim(mymat)</code></pre>
<pre><code>## [1] 3 4</code></pre>
<p>Note that now the matrix has a <code>dim</code> attribute that describes the number of rows and columns in the data. The data that a matrix contains is of course limited to one type. This has limitations, but it can be an efficient fore storing lots of information. You’ll probably encounter matrices if you plan on doing community-level analysis, e.g., abundance data where each row represent a site and each column is a species.</p>
<p>A more common way of storing two-dimensional data is in a data frame (i.e., <code>data.frame</code>). As you probably guessed, these are similar to a matrix with the added bonus of combining data of different types. Think of them like your standard spreadsheet, where each column describes a variable and rows link observations between columns. Here’s a simple example:</p>
<pre class="r"><code>ltrs &lt;- c(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
nums &lt;- c(1, 2, 3)
logs &lt;- c(T, F, T)
mydf &lt;- data.frame(ltrs, nums, logs)
mydf</code></pre>
<pre><code>##   ltrs nums  logs
## 1    a    1  TRUE
## 2    b    2 FALSE
## 3    c    3  TRUE</code></pre>
<p>A data frame has other attributes that are not included in a matrix, such as row names and column names. These are useful for indexing (selecting) different parts of the data. (more about this below).</p>
<pre class="r"><code>names(mydf)</code></pre>
<pre><code>## [1] &quot;ltrs&quot; &quot;nums&quot; &quot;logs&quot;</code></pre>
<pre class="r"><code>row.names(mydf)</code></pre>
<pre><code>## [1] &quot;1&quot; &quot;2&quot; &quot;3&quot;</code></pre>
<p>As you might have guessed, a requirement of a matrix or data frame is that all columns have the same number of rows. You can combine vectors wtih different lengths using the <code>list</code> structure. In fact, a data frame is simply a special case of a list where all the vectors have the same length (try <code>as.list(mydf)</code>).</p>
<pre class="r"><code># create a simple list
ltrs &lt;- c(&#39;a&#39;, &#39;b&#39;, &#39;c&#39;)
nums &lt;- c(1, 2, 3, 4)
myls &lt;- list(ltrs, nums)
myls</code></pre>
<pre><code>## [[1]]
## [1] &quot;a&quot; &quot;b&quot; &quot;c&quot;
## 
## [[2]]
## [1] 1 2 3 4</code></pre>
<p>Lists have the least constraints on the types of data that can be stored and therefore are the most flexible of the two-dimensional structures. In fact, you can create an n-dimensional list by creating lists of lists, lists of list of lists, etc. List elements are also not limited to vectors and can include any kind of data object (e.g., model output). You will probably not use them a lot in your early R adventures, but they are a very powerful option for data storage.</p>
</div>
</div>
<div id="data-io" class="section level2">
<h2>Data I/O</h2>
<div id="input" class="section level3">
<h3>Input</h3>
<p>It is the rare case when you manually enter your data in R. Most data analysis workflows typically begin with importing a dataset from an external source. Literally, this means committing a dataset to memory (i.e., storing it as a variable) as one of R’s data structure formats.</p>
<p>If you’re lucky, your data are already in a flat, rectangular format. In other words, your data are two-dimensional as standard ASCI text. Flat data files present the least complications on import because there is very little to assume about the structure of the data. On import, R tries to guess the data type for each column and this is fairly unambiguous with flat files. The base installation of R comes with some easy to use functions for importing flat files, such as <code>read.table()</code> and <code>read.csv</code>.</p>
<p>More often you will probably have an Excel spreadsheet to import. This is not a preferred format but the reality is that most people are using this software for data storage. In the old days, importing spreadsheets into R was almost impossible given the proprietary data structure of Excel. The tools available in R have since matured and it’s now pretty painless to import a spreadsheet. But “painless” comes with some caveats.</p>
<p>You will save yourself a lot of trouble with data import from Excel if you think like a machine. Consider the example below:</p>
<p><img src="figure/excel_bad.png" /></p>
<p>Computers, although very trainable, are also very dumb. If you have trouble interpreting the information, can you expect a computer to do so? Most issues importing Excel spreadsheets relate to format of the data. Here are few pointers to keep in mind if you are using Excel to store data:</p>
<ul>
<li>Use the one spreadsheet, one data frame rule (rectangular)</li>
<li>No colors or special formatting</li>
<li>No links between sheets</li>
<li>One data type per column</li>
<li>Use simple column names (no spaces or special characters)</li>
<li>Be explicit and consistent with missing values</li>
</ul>
<p>Following these simple guidelines will make import much, much smoother.</p>
<p>The <code>readxl</code> package is the most recent and by far most flexible data import package for Excel files. It comes with the <code>tidyverse</code> family of packages (more about this next training), but you can install it separately as follows:</p>
<pre class="r"><code>install.packages(&#39;readxl&#39;)</code></pre>
<p>Once installed, we can load it to access the import functions.</p>
<pre class="r"><code>library(readxl)</code></pre>
<p>We’ll import the <code>mpg</code> dataset that describes fuel economy of different car models. This dataset actually comes with R but I’ve saved it as a an Excel spreadsheet to demonstrate the <code>read_excel</code> import function. If you haven’t downloaded the file already, grab it from the <a href="https://github.com/SCCWRP/R_training_2018/lessons/data">online materials</a> and save it in your <code>data</code> folder in your project.</p>
<p>Now we can import the file (note the <strong>relative</strong> path):</p>
<pre class="r"><code>dat &lt;- read_excel(&#39;data/mpg.xlsx&#39;)</code></pre>
<p>If you didn’t get any errors or warnings, the file is now stored in your environment.</p>
<pre class="r"><code>ls()</code></pre>
<pre><code>##  [1] &quot;all_pipes&quot;       &quot;alldat&quot;          &quot;bad_ex&quot;         
##  [4] &quot;bad_ex2&quot;         &quot;by_make&quot;         &quot;by_yr_drv&quot;      
##  [7] &quot;chemdat&quot;         &quot;chr_var&quot;         &quot;dat&quot;            
## [10] &quot;dbl_var&quot;         &quot;displ_cat&quot;       &quot;dplyr_arr&quot;      
## [13] &quot;dplyr_good_fuel&quot; &quot;dplyr_mut&quot;       &quot;dplyr_mut2&quot;     
## [16] &quot;dplyr_rnm&quot;       &quot;dplyr_sel1&quot;      &quot;dplyr_sel2&quot;     
## [19] &quot;dplyr_sel3&quot;      &quot;dplyr_six_cyl&quot;   &quot;filt1&quot;          
## [22] &quot;filt2&quot;           &quot;filt3&quot;           &quot;filt4&quot;          
## [25] &quot;filt5&quot;           &quot;good_ex&quot;         &quot;int_var&quot;        
## [28] &quot;log_var&quot;         &quot;logs&quot;            &quot;ltrs&quot;           
## [31] &quot;metadat&quot;         &quot;more_sums&quot;       &quot;mpg&quot;            
## [34] &quot;my_random_sum&quot;   &quot;mydf&quot;            &quot;myls&quot;           
## [37] &quot;mymat&quot;           &quot;nums&quot;            &quot;origin&quot;         
## [40] &quot;pkgs&quot;            &quot;polys&quot;           &quot;stat_cnt&quot;       
## [43] &quot;stat_sub&quot;        &quot;stations&quot;        &quot;sumdat&quot;         
## [46] &quot;tidydat&quot;         &quot;x&quot;</code></pre>
<p>Before we go on, let’s look at the data class:</p>
<pre class="r"><code>class(dat)</code></pre>
<pre><code>## [1] &quot;tbl_df&quot;     &quot;tbl&quot;        &quot;data.frame&quot;</code></pre>
<pre class="r"><code>head(dat)</code></pre>
<pre><code>## # A tibble: 6 x 11
##   manufacturer model displ  year   cyl trans drv     cty   hwy fl    class
##   &lt;chr&gt;        &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;dbl&gt; &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;
## 1 audi         a4     1.80 1999.    4. auto~ f       18.   29. p     comp~
## 2 audi         a4     1.80 1999.    4. manu~ f       21.   29. p     comp~
## 3 audi         a4     2.00 2008.    4. manu~ f       20.   31. p     comp~
## 4 audi         a4     2.00 2008.    4. auto~ f       21.   30. p     comp~
## 5 audi         a4     2.80 1999.    6. auto~ f       16.   26. p     comp~
## 6 audi         a4     2.80 1999.    6. manu~ f       18.   26. p     comp~</code></pre>
<p>The data are in the <code>tibble</code> format. A tibble is basically a data frame with some extra features, mostly related to how the data are printed in the console. You’ll encounter tibbles a lot if you are using the <code>tidyverse</code> family of packages, which we’ll go over next training. There are some very good reasons to use tibbles for data wrangling but they can also cause some headaches when used with other packages. For now, let’s just <code>coerce</code> the tibble to a data frame.</p>
<pre class="r"><code>dat &lt;- as.data.frame(dat)
class(dat)</code></pre>
<pre><code>## [1] &quot;data.frame&quot;</code></pre>
<p>Now let’s look at the data to get an idea of the structure:</p>
<pre class="r"><code># get the dimensions
dim(dat)</code></pre>
<pre><code>## [1] 234  11</code></pre>
<pre class="r"><code># get the column names
names(dat)</code></pre>
<pre><code>##  [1] &quot;manufacturer&quot; &quot;model&quot;        &quot;displ&quot;        &quot;year&quot;        
##  [5] &quot;cyl&quot;          &quot;trans&quot;        &quot;drv&quot;          &quot;cty&quot;         
##  [9] &quot;hwy&quot;          &quot;fl&quot;           &quot;class&quot;</code></pre>
<pre class="r"><code># get the row names
row.names(dat)</code></pre>
<pre><code>##   [1] &quot;1&quot;   &quot;2&quot;   &quot;3&quot;   &quot;4&quot;   &quot;5&quot;   &quot;6&quot;   &quot;7&quot;   &quot;8&quot;   &quot;9&quot;   &quot;10&quot;  &quot;11&quot; 
##  [12] &quot;12&quot;  &quot;13&quot;  &quot;14&quot;  &quot;15&quot;  &quot;16&quot;  &quot;17&quot;  &quot;18&quot;  &quot;19&quot;  &quot;20&quot;  &quot;21&quot;  &quot;22&quot; 
##  [23] &quot;23&quot;  &quot;24&quot;  &quot;25&quot;  &quot;26&quot;  &quot;27&quot;  &quot;28&quot;  &quot;29&quot;  &quot;30&quot;  &quot;31&quot;  &quot;32&quot;  &quot;33&quot; 
##  [34] &quot;34&quot;  &quot;35&quot;  &quot;36&quot;  &quot;37&quot;  &quot;38&quot;  &quot;39&quot;  &quot;40&quot;  &quot;41&quot;  &quot;42&quot;  &quot;43&quot;  &quot;44&quot; 
##  [45] &quot;45&quot;  &quot;46&quot;  &quot;47&quot;  &quot;48&quot;  &quot;49&quot;  &quot;50&quot;  &quot;51&quot;  &quot;52&quot;  &quot;53&quot;  &quot;54&quot;  &quot;55&quot; 
##  [56] &quot;56&quot;  &quot;57&quot;  &quot;58&quot;  &quot;59&quot;  &quot;60&quot;  &quot;61&quot;  &quot;62&quot;  &quot;63&quot;  &quot;64&quot;  &quot;65&quot;  &quot;66&quot; 
##  [67] &quot;67&quot;  &quot;68&quot;  &quot;69&quot;  &quot;70&quot;  &quot;71&quot;  &quot;72&quot;  &quot;73&quot;  &quot;74&quot;  &quot;75&quot;  &quot;76&quot;  &quot;77&quot; 
##  [78] &quot;78&quot;  &quot;79&quot;  &quot;80&quot;  &quot;81&quot;  &quot;82&quot;  &quot;83&quot;  &quot;84&quot;  &quot;85&quot;  &quot;86&quot;  &quot;87&quot;  &quot;88&quot; 
##  [89] &quot;89&quot;  &quot;90&quot;  &quot;91&quot;  &quot;92&quot;  &quot;93&quot;  &quot;94&quot;  &quot;95&quot;  &quot;96&quot;  &quot;97&quot;  &quot;98&quot;  &quot;99&quot; 
## [100] &quot;100&quot; &quot;101&quot; &quot;102&quot; &quot;103&quot; &quot;104&quot; &quot;105&quot; &quot;106&quot; &quot;107&quot; &quot;108&quot; &quot;109&quot; &quot;110&quot;
## [111] &quot;111&quot; &quot;112&quot; &quot;113&quot; &quot;114&quot; &quot;115&quot; &quot;116&quot; &quot;117&quot; &quot;118&quot; &quot;119&quot; &quot;120&quot; &quot;121&quot;
## [122] &quot;122&quot; &quot;123&quot; &quot;124&quot; &quot;125&quot; &quot;126&quot; &quot;127&quot; &quot;128&quot; &quot;129&quot; &quot;130&quot; &quot;131&quot; &quot;132&quot;
## [133] &quot;133&quot; &quot;134&quot; &quot;135&quot; &quot;136&quot; &quot;137&quot; &quot;138&quot; &quot;139&quot; &quot;140&quot; &quot;141&quot; &quot;142&quot; &quot;143&quot;
## [144] &quot;144&quot; &quot;145&quot; &quot;146&quot; &quot;147&quot; &quot;148&quot; &quot;149&quot; &quot;150&quot; &quot;151&quot; &quot;152&quot; &quot;153&quot; &quot;154&quot;
## [155] &quot;155&quot; &quot;156&quot; &quot;157&quot; &quot;158&quot; &quot;159&quot; &quot;160&quot; &quot;161&quot; &quot;162&quot; &quot;163&quot; &quot;164&quot; &quot;165&quot;
## [166] &quot;166&quot; &quot;167&quot; &quot;168&quot; &quot;169&quot; &quot;170&quot; &quot;171&quot; &quot;172&quot; &quot;173&quot; &quot;174&quot; &quot;175&quot; &quot;176&quot;
## [177] &quot;177&quot; &quot;178&quot; &quot;179&quot; &quot;180&quot; &quot;181&quot; &quot;182&quot; &quot;183&quot; &quot;184&quot; &quot;185&quot; &quot;186&quot; &quot;187&quot;
## [188] &quot;188&quot; &quot;189&quot; &quot;190&quot; &quot;191&quot; &quot;192&quot; &quot;193&quot; &quot;194&quot; &quot;195&quot; &quot;196&quot; &quot;197&quot; &quot;198&quot;
## [199] &quot;199&quot; &quot;200&quot; &quot;201&quot; &quot;202&quot; &quot;203&quot; &quot;204&quot; &quot;205&quot; &quot;206&quot; &quot;207&quot; &quot;208&quot; &quot;209&quot;
## [210] &quot;210&quot; &quot;211&quot; &quot;212&quot; &quot;213&quot; &quot;214&quot; &quot;215&quot; &quot;216&quot; &quot;217&quot; &quot;218&quot; &quot;219&quot; &quot;220&quot;
## [221] &quot;221&quot; &quot;222&quot; &quot;223&quot; &quot;224&quot; &quot;225&quot; &quot;226&quot; &quot;227&quot; &quot;228&quot; &quot;229&quot; &quot;230&quot; &quot;231&quot;
## [232] &quot;232&quot; &quot;233&quot; &quot;234&quot;</code></pre>
<pre class="r"><code># get the overall structure
str(dat)</code></pre>
<pre><code>## &#39;data.frame&#39;:    234 obs. of  11 variables:
##  $ manufacturer: chr  &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; &quot;audi&quot; ...
##  $ model       : chr  &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; &quot;a4&quot; ...
##  $ displ       : num  1.8 1.8 2 2 2.8 2.8 3.1 1.8 1.8 2 ...
##  $ year        : num  1999 1999 2008 2008 1999 ...
##  $ cyl         : num  4 4 4 4 6 6 6 4 4 4 ...
##  $ trans       : chr  &quot;auto(l5)&quot; &quot;manual(m5)&quot; &quot;manual(m6)&quot; &quot;auto(av)&quot; ...
##  $ drv         : chr  &quot;f&quot; &quot;f&quot; &quot;f&quot; &quot;f&quot; ...
##  $ cty         : num  18 21 20 21 16 18 18 18 16 20 ...
##  $ hwy         : num  29 29 31 30 26 26 27 26 25 28 ...
##  $ fl          : chr  &quot;p&quot; &quot;p&quot; &quot;p&quot; &quot;p&quot; ...
##  $ class       : chr  &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; &quot;compact&quot; ...</code></pre>
<p>There are several ways to select (aka index) subsets of the data, either by rows or columns. Here are all the ways you can get the <code>fl</code> column from <code>mpg</code>:</p>
<pre class="r"><code>dat$fl
dat$&quot;fl&quot;
dat[&quot;fl&quot;]
dat[,&quot;fl&quot;]
dat[[&quot;fl&quot;]]
dat[10]
dat[,10]
dat[[10]]</code></pre>
<p>It’s not easy to understand how and why there are so many ways to subset data in R. Next time, we’ll focus on the <code>dplyr</code> package that uses a more logical approach to working with and manipulating data.</p>
</div>
<div id="output" class="section level3">
<h3>Output</h3>
<p>Once we’re done working with our data, we’ll probably want to save it if we’ve made significant changes or if we want to share it with somebody. As you an imagine, there are countless ways to save the data depending on the format you want. We could easily spend the next hour discussing best practices for data storage, but for now, I’ll show you an easy approach to save your data as a flat, rectangular text file.</p>
<p>We can use the <code>write_csv</code> function from the <code>readr</code> package. This function is very similar to <code>write.csv</code> from base R but it handles some of the annoying quirks of <code>write.csv</code>.</p>
<p>Install <code>readr</code> if you don’t have it already.</p>
<pre class="r"><code>install.packages(&#39;readr&#39;)</code></pre>
<p>Load <code>readr</code>.</p>
<pre class="r"><code>library(readr)</code></pre>
<p>And save the file.</p>
<pre class="r"><code>write_csv(dat, &#39;data/new_mpg.csv&#39;)</code></pre>
</div>
</div>
<div id="exercise-2" class="section level2">
<h2>Exercise 2</h2>
<p>From here on out I hope to have the exercises build on each other. For this exercise we are going to grab the <code>mpg</code> data, look at that data, and be able to describe some basic information about that dataset.</p>
<ol style="list-style-type: decimal">
<li>We will be using a new script for the rest of our exercises. Create this script in RStudio and name it “mpg_analysis.R”</li>
<li>As you write the script, comment as you go. Some good examples are what we used in the first script where we provided some details on each of the exercises. Remember comments are lines that begin with <code>#</code> and you can put whatever you like after that.</li>
<li>Add some lines to your script to import and store the data in your Enviroment. Remember that the data should be in your <code>data</code> folder in your project. The <code>read_excel</code> function is your friend here and the path is <code>&quot;data/mpg.xlsx&quot;</code>. Remember to install/load the <code>readxl</code> library. Alternatively, you can use <code>read_csv</code> (<code>readr</code> package) if you’ve saved a csv file from the examples above.</li>
<li>Now run your script and make sure it doesn’t throw any errors and you do in fact get a data frame (or tibble).</li>
<li>Explore the data frame using some of the functions we covered above (e.g. <code>head()</code>,<code>dim()</code>, or <code>str()</code>). This part does not need to be included in the script and can be done directly inthe console. It is just a quick QA step to be sure the data read in as expected.</li>
</ol>
</div>
<div id="retention" class="section level2">
<h2>Retention</h2>
<p><img src="figure/automation.png" /></p>
<p>Today we covered a lot of material but at this point you should have the resources to answer the following:</p>
<ul>
<li>What is R and why should I use it?</li>
<li>Why would I use RStudio and RStudio projects?</li>
<li>How can I write, save, and run scripts in RStudio?</li>
<li>Where can I go for help?</li>
<li>What are the basic data structures in R?</li>
<li>How do I import/export data?</li>
</ul>
<p>R is not an easy language to learn (see <a href="http://r4stats.com/articles/why-r-is-hard-to-learn/">here</a>). At the beginning, the payoff in your investment will not be obvious. You will spend time banging your head on the wall and be tempted to revert to old habits. Having used R for over ten years, I can tell you that the investment is absolutely worth it. Once you’re able to use R, you will have access to an almost endless repository of analytical tools. You will also be more efficient, reproducible, and transparent with your workflows. My advice in the beginning:</p>
<ul>
<li>Time spent frustrated is time spent learning. Just because you’re angry doesn’t mean you’re not gaining information.</li>
<li>Pick something small to begin with. Do not try to port all of your old projects to RStudio, this will come with time.</li>
<li>Use someone else’s code. It’s often easier to learn a complex problem by seeing someone else’s approach line by line.</li>
<li>Become a savvy Googler, see the tips above. Hard-copy books are obselete when you have all the information at your finger tips.</li>
<li>Do not give up!!!</li>
</ul>
<p>Next time, we’ll talk about data wrangling. This is where the real fun begins…</p>
<p><img src="figure/learning_crv.png" /></p>
</div>
<div id="attribution" class="section level2">
<h2>Attribution</h2>
<p>Content in this lesson was pillaged extensively from Jeffrey Hollister (USEPA) and the USGS-R training curriculum <a href="https://github.com/USGS-R/training-curriculum">here</a>.</p>
</div>
</div>



</div>
</div>

</div>

<script>

// add bootstrap table styles to pandoc tables
function bootstrapStylePandocTables() {
  $('tr.header').parent('thead').parent('table').addClass('table table-condensed');
}
$(document).ready(function () {
  bootstrapStylePandocTables();
});


</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    script.src  = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML";
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>

</body>
</html>
